<!DOCTYPE html>
<html lang="id">
  <head>
    <base href="/" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="page-title">Halaman Berita - HMTE Unsoed</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../../css/style.css" />
    <link rel="stylesheet" href="../../css/satoshi.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <style>
      /* ══════════════════════════════════════════════════
         1. BASE & BACKGROUND (GRID TEMA KONSISTEN)
      ══════════════════════════════════════════════════ */
      html { overflow-x: hidden !important; }
      body {
        overflow-x: hidden !important;
        max-width: 100vw !important;
        color: #ffffff !important;
        margin: 0; min-height: 100vh;
        
        /* Background kotak-kotak bawaan style.css */
        background-color: #161616 !important;
        background-image: linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px), 
                          linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px) !important;
        background-size: 55px 55px !important;
      }

      /* ── PAGE FADE IN ── */
      .page-fade { animation: pageFadeIn 0.65s ease both; }
      @keyframes pageFadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to   { opacity: 1; transform: translateY(0); }
      }

      /* ══════════════════════════════════════════════════
         2. PAGE WRAPPER & AMBIENT GLOW
      ══════════════════════════════════════════════════ */
      .news-wrap {
        padding-top: 120px;
        padding-bottom: 80px;
        position: relative;
      }
      /* Glow hijau di atas halaman */
      .news-wrap::before {
        content: '';
        position: absolute; top: 0; left: 50%; transform: translateX(-50%);
        width: min(700px, 100%); height: 300px;
        background: radial-gradient(ellipse, rgba(15,188,109,0.06) 0%, transparent 70%);
        pointer-events: none;
      }
      .news-inner {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 clamp(16px, 5vw, 48px);
      }

      /* ══════════════════════════════════════════════════
         3. TITLE BLOCK & SOLID TEXT
      ══════════════════════════════════════════════════ */
      .news-title-block {
        text-align: center;
        margin-bottom: clamp(32px, 5vh, 56px);
      }
      .news-eyebrow {
        display: inline-flex; align-items: center; gap: 10px;
        font-size: 0.68rem; letter-spacing: 0.22em;
        text-transform: uppercase; color: #0fbc6d; font-weight: 700;
        margin-bottom: 12px;
      }
      .news-eyebrow::before, .news-eyebrow::after {
        content: ''; display: block; width: 24px; height: 1px;
        background: #0fbc6d; opacity: 0.6;
      }
      
      /* Teks Solid Putih */
      .solid-title {
        color: #ffffff !important;
        font-size: clamp(2.2rem, 6vw, 3.5rem) !important;
        font-weight: 900 !important;
        line-height: 1.2 !important; 
        display: block;
        margin-bottom: 12px;
        letter-spacing: -0.04em;
      }
      /* Highlight Hijau */
      .solid-title em {
        color: #0fbc6d !important;
        font-style: normal;
      }

      .news-subtitle {
        font-size: clamp(0.85rem, 2vw, 1rem);
        color: rgba(156,163,175,0.6);
        max-width: 500px; margin: 0 auto; line-height: 1.65;
      }

      /* ══════════════════════════════════════════════════
         4. GRID CONTAINER BERITA
      ══════════════════════════════════════════════════ */
      #all-news-container {
        display: grid !important;
        grid-template-columns: repeat(4, 1fr) !important;
        gap: clamp(16px, 2vw, 24px) !important;
        margin-bottom: 40px !important;
      }

      /* ══════════════════════════════════════════════════
         5. OVERRIDE CARD JS & ANIMASI
      ══════════════════════════════════════════════════ */
      #all-news-container > div {
        background: linear-gradient(145deg,
          rgba(15,188,109,0.07) 0%, rgba(13,17,23,0.98) 35%,
          rgba(13,17,23,0.98) 65%, rgba(15,188,109,0.04) 100%
        ) !important;
        border: 1px solid rgba(15,188,109,0.1) !important;
        border-radius: 14px !important;
        overflow: hidden !important;
        box-shadow: 0 4px 20px rgba(0,0,0,0.4) !important;
        position: relative !important;
        cursor: pointer !important;
        display: flex !important;
        flex-direction: column !important;
        
        /* Setup Animasi Baru (dikendalikan via JS Observer di bawah) */
        opacity: 0;
        transform: translateY(30px);
        transition: opacity 0.55s cubic-bezier(0.23,1,0.32,1), 
                    transform 0.55s cubic-bezier(0.23,1,0.32,1), 
                    border-color 0.3s ease, box-shadow 0.3s ease !important;
      }

      /* Class yang ditambahkan oleh JS saat card terlihat */
      #all-news-container > div.is-visible {
        opacity: 1 !important;
        transform: translateY(0) !important;
      }

      #all-news-container > div::before {
        content: ''; position: absolute; top: 0; left: 8%; right: 8%; height: 1px;
        background: linear-gradient(90deg, transparent, rgba(15,188,109,0.35), transparent);
        z-index: 2; pointer-events: none;
      }

      /* Hover Desktop */
      @media (hover: hover) {
        #all-news-container > div:hover {
          transform: translateY(-5px) !important;
          border-color: rgba(15,188,109,0.3) !important;
          box-shadow: 0 16px 40px rgba(0,0,0,0.55), 0 0 20px rgba(15,188,109,0.08) !important;
        }
        #all-news-container > div:hover img {
          transform: scale(1.05) !important; filter: brightness(0.98) saturate(1.1) !important;
        }
        #all-news-container > div:hover h3 { color: #fff !important; }
      }

      /* ── GAMBAR CARD ── */
      #all-news-container img {
        width: 100% !important; aspect-ratio: 16 / 9 !important;
        height: auto !important; object-fit: cover !important;
        display: block !important;
        filter: brightness(0.88) saturate(1.05) !important;
        transition: transform 0.5s ease, filter 0.3s ease !important;
      }

      /* ── KONTEN CARD ── */
      #all-news-container .p-4 {
        background: transparent !important; padding: 14px 16px 18px !important;
        flex: 1 !important; display: flex !important; flex-direction: column !important; gap: 6px !important;
      }

      #all-news-container .text-green-400 {
        font-size: 0.55rem !important; letter-spacing: 0.1em !important; text-transform: uppercase !important;
        color: #0fbc6d !important; font-weight: 700 !important; padding: 3px 8px !important;
        background: rgba(15,188,109,0.1) !important; border: 1px solid rgba(15,188,109,0.18) !important;
        border-radius: 20px !important; display: inline-block !important; width: fit-content !important;
        margin-bottom: 4px !important;
      }

      #all-news-container h3 {
        font-size: clamp(0.85rem, 1.2vw, 0.95rem) !important; font-weight: 800 !important;
        color: rgba(255,255,255,0.9) !important; line-height: 1.35 !important; letter-spacing: -0.01em !important;
        display: -webkit-box !important; -webkit-line-clamp: 2 !important; -webkit-box-orient: vertical !important;
        overflow: hidden !important; margin-bottom: 2px !important; transition: color 0.2s ease !important;
      }

      #all-news-container .text-gray-400 {
        font-size: 0.72rem !important; color: rgba(156,163,175,0.55) !important; line-height: 1.6 !important;
        display: -webkit-box !important; -webkit-line-clamp: 3 !important; -webkit-box-orient: vertical !important;
        overflow: hidden !important; margin: 0 !important;
      }

      #all-news-container .text-xs.text-gray-400 {
        font-size: 0.65rem !important; color: rgba(156,163,175,0.45) !important;
        margin-top: auto !important; padding-top: 10px !important;
        border-top: 1px solid rgba(255,255,255,0.06) !important; display: block !important; -webkit-line-clamp: unset !important;
      }

      /* ══════════════════════════════════════════════════
         6. PAGINATION
      ══════════════════════════════════════════════════ */
      #news-pagination-container {
        display: flex; justify-content: center; gap: 8px !important; flex-wrap: wrap !important; margin-top: 24px;
      }
      #news-pagination-container button {
        min-width: 38px !important; height: 38px !important;
        padding: 0 12px !important; border-radius: 10px !important;
        font-size: 0.85rem !important; font-weight: 700 !important;
        border: 1px solid rgba(255,255,255,0.08) !important;
        background: rgba(255,255,255,0.04) !important; color: rgba(255,255,255,0.6) !important;
        transition: all 0.2s ease !important;
      }
      #news-pagination-container button:hover:not(:disabled) {
        background: rgba(15,188,109,0.12) !important; border-color: rgba(15,188,109,0.3) !important; color: #0fbc6d !important;
      }
      #news-pagination-container button.bg-green-500 {
        background: #0fbc6d !important; border-color: #0fbc6d !important; color: #fff !important;
        box-shadow: 0 0 20px rgba(15,188,109,0.25) !important;
      }
      #news-pagination-container button:disabled { opacity: 0.3 !important; cursor: not-allowed !important; }

      /* ══════════════════════════════════════════════════
         7. RESPONSIVE MEDIA QUERIES (MOBILE FIXES)
      ══════════════════════════════════════════════════ */
      @media screen and (max-width: 1024px) {
        #all-news-container { grid-template-columns: repeat(3, 1fr) !important; }
      }
      
      @media screen and (max-width: 768px) {
        /* Memastikan tidak tertutup navbar di HP */
        .news-wrap { padding-top: 100px; padding-bottom: 60px; }
        .news-inner { padding: 0 16px; }
        
        /* Grid 2 Kolom untuk Tablet */
        #all-news-container { grid-template-columns: repeat(2, 1fr) !important; gap: 16px !important; }
        
        /* Tipografi HP */
        .solid-title { font-size: clamp(1.8rem, 8vw, 2.4rem) !important; margin-bottom: 8px !important; }
        .news-subtitle { font-size: 0.85rem !important; padding: 0 10px; }
      }
      
      @media screen and (max-width: 480px) {
        /* Grid 1 Kolom Full di HP */
        #all-news-container { grid-template-columns: 1fr !important; gap: 16px !important; }
        
        /* Efek Sentuh Android (Touch Feedback) */
        #all-news-container > div:active { 
          transform: scale(0.975) !important; 
          transition: transform 0.1s ease !important;
        }

        .news-title-block { margin-bottom: 32px !important; }
        
        /* Ukuran font Card untuk Layar HP Kecil */
        #all-news-container h3 { font-size: 1.05rem !important; }
        #all-news-container .text-gray-400 { font-size: 0.8rem !important; }

        /* Pagination HP: Target Sentuh yang Pas di Jempol */
        #news-pagination-container { gap: 8px !important; margin-top: 32px !important; }
        #news-pagination-container button { 
          min-width: 40px !important; 
          height: 40px !important; 
          font-size: 0.9rem !important; 
          border-radius: 12px !important;
        }
      }
    </style>
  </head>

  <body class="page-fade">
    <div id="header-placeholder"></div>

    <main class="news-wrap">
      <div class="news-inner">
        
        <div class="news-title-block">
          <div class="news-eyebrow">Kabar Terbaru</div>
          
          <h1 class="solid-title">Portal <em>Berita</em></h1>
          
          <p class="news-subtitle">Informasi terbaru, liputan kegiatan, dan pengumuman resmi HMTE Unsoed.</p>
        </div>

        <div id="all-news-container">
          </div>

        <div id="news-pagination-container"></div>

      </div>
    </main>

    <div id="footer-placeholder"></div>

    <script src="../../js/loader.js"></script>
    <script src="../../js/data/news.js"></script>
    <script src="../../js/data/calendar.js"></script>
    <script src="../../js/data/news-generator.js"></script>

    <script>
    (function () {
      function initNewsAnimations() {
        var container = document.getElementById('all-news-container');
        if (!container) return;

        // Atur observer untuk trigger animasi saat card masuk layar
        var cardObs = new IntersectionObserver(function(entries) {
          entries.forEach(function(e) {
            if (e.isIntersecting) { 
              e.target.classList.add('is-visible'); 
              cardObs.unobserve(e.target); 
            }
          });
        }, { threshold: 0.05, rootMargin: '0px 0px -20px 0px' });

        // Fungsi apply untuk menargetkan card baru yang masuk ke container
        function applyAnimations() {
          // Cari div anak langsung yang belum diobserve
          var cards = container.querySelectorAll(':scope > div:not([data-obs])');
          cards.forEach(function(card, index) {
            card.setAttribute('data-obs', '1');
            
            // Berikan stagger delay via JS agar muncul berurutan (0.05s per card)
            setTimeout(function() {
              cardObs.observe(card);
            }, index * 50);
          });
        }

        // Tangkap momen ketika news-generator.js menyuntikkan (inject) card berita
        new MutationObserver(applyAnimations).observe(container, { childList: true, subtree: false });

        // Jalankan sekali sebagai fallback jika JS load lebih lambat
        var fallbackTries = 0;
        var poll = setInterval(function() {
          fallbackTries++;
          if (container.children.length > 0 || fallbackTries > 50) {
            clearInterval(poll);
            applyAnimations();
          }
        }, 200);
      }

      document.addEventListener('DOMContentLoaded', initNewsAnimations);
    })();
    </script>
  </body>
</html>